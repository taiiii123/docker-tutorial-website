# コンテンツ構成仕様

## 1. 背景・目的

Dockerの基礎から応用まで体系的に学習できるコンテンツ構成を定義する。
初心者から上級者まで段階的にスキルアップできる構成とする。

## 2. 全体構成

### 2.1 レベル定義

| レベル | 対象者 | 到達目標 |
|--------|--------|----------|
| beginner | Docker未経験者 | 基本的なコンテナ操作ができる |
| intermediate | 基礎習得済み | 複数コンテナのアプリケーションを構築できる |
| advanced | 実務経験あり | 本番環境での運用・最適化ができる |

### 2.2 学習パス

```
[入門編] → [基礎編] → [中級編] → [応用編] → [実践編]
   ↓         ↓          ↓          ↓          ↓
Chapter 1  Ch 2-3     Ch 4-5     Ch 6-7     Ch 8-10
                                              ↓
                                        [リファレンス]
                                          Chapter 11
```

## 3. チャプター詳細

### Chapter 1: 入門編 - Dockerを始めよう

**目標**: Dockerの概念を理解し、環境構築を完了する

| Section | タイトル | 内容 |
|---------|----------|------|
| 1.1 | Dockerとは何か | コンテナ技術の概要、メリット、ユースケース |
| 1.2 | 仮想マシンとコンテナの違い | VMとコンテナの比較、リソース効率 |
| 1.3 | Dockerのアーキテクチャ | Docker Engine, CLI, Daemon, Registry |
| 1.4 | Dockerのインストール | Windows/Mac/Linux別インストール手順 |
| 1.5 | 初めてのDockerコマンド | docker run hello-world の実行 |
| 1.6 | Docker Desktopの使い方 | GUIの基本操作 |

### Chapter 2: 基礎編 - イメージとコンテナ

**目標**: イメージとコンテナの基本操作をマスターする

| Section | タイトル | 内容 |
|---------|----------|------|
| 2.1 | Dockerイメージとは | イメージの概念、レイヤー構造 |
| 2.2 | Docker Hubの使い方 | 公式イメージ、検索、プル |
| 2.3 | イメージの取得・一覧・削除 | docker pull/images/rmi |
| 2.4 | コンテナの起動・停止・削除 | docker run/stop/rm |
| 2.5 | コンテナのライフサイクル | 状態遷移、再起動ポリシー |
| 2.6 | コンテナ内での操作 | docker exec, attach |
| 2.7 | ログの確認と管理 | docker logs, ログドライバー |

### Chapter 3: 基礎編 - Dockerfile

**目標**: Dockerfileを使ってカスタムイメージを作成できる

| Section | タイトル | 内容 |
|---------|----------|------|
| 3.1 | Dockerfileの基本構文 | 基本的な書き方、ベストプラクティス |
| 3.2 | FROM, RUN, COPY, ADD | ベースイメージ、コマンド実行、ファイルコピー |
| 3.3 | WORKDIR, ENV, ARG | 作業ディレクトリ、環境変数、ビルド引数 |
| 3.4 | EXPOSE, CMD, ENTRYPOINT | ポート公開、起動コマンド |
| 3.5 | .dockerignoreの活用 | 除外ファイル設定 |
| 3.6 | イメージのビルドとタグ付け | docker build, タグ命名規則 |
| 3.7 | レイヤーキャッシュの理解 | キャッシュの仕組み、最適化 |

### Chapter 4: 中級編 - Docker Compose

**目標**: 複数コンテナのアプリケーションを構築・管理できる

| Section | タイトル | 内容 |
|---------|----------|------|
| 4.1 | Docker Composeとは | マルチコンテナ管理の必要性 |
| 4.2 | docker-compose.ymlの基本構文 | version, services, networks, volumes |
| 4.3 | 複数サービスの定義 | Web + DB構成の例 |
| 4.4 | 環境変数と.envファイル | 設定の外部化 |
| 4.5 | サービス間の依存関係 | depends_on, healthcheck |
| 4.6 | Composeコマンド詳解 | up, down, logs, exec, ps |
| 4.7 | 開発環境の構築例 | LAMP/LEMP/Node.js環境 |

### Chapter 5: 中級編 - ネットワークとボリューム

**目標**: Dockerのネットワークとデータ永続化を理解・活用できる

| Section | タイトル | 内容 |
|---------|----------|------|
| 5.1 | Dockerネットワークの基礎 | ネットワーキングの概念 |
| 5.2 | ネットワークの種類 | bridge, host, none, overlay |
| 5.3 | カスタムネットワークの作成 | docker network create |
| 5.4 | コンテナ間通信 | DNS解決、リンク |
| 5.5 | Dockerボリュームの基礎 | データ永続化の必要性 |
| 5.6 | ボリュームの種類 | named volume, bind mount, tmpfs |
| 5.7 | データの永続化戦略 | バックアップ、マイグレーション |

### Chapter 6: 応用編 - イメージ最適化

**目標**: 効率的で軽量なDockerイメージを作成できる

| Section | タイトル | 内容 |
|---------|----------|------|
| 6.1 | マルチステージビルド | ビルド環境と実行環境の分離 |
| 6.2 | イメージサイズの削減テクニック | 不要ファイル削除、レイヤー最適化 |
| 6.3 | ベースイメージの選択 | Alpine, Distroless, Scratch |
| 6.4 | レイヤー最適化 | RUN命令の結合、キャッシュ活用 |
| 6.5 | ビルド時間の短縮 | 並列ビルド、キャッシュマウント |
| 6.6 | Docker BuildKit | 新機能、シークレットマウント |

### Chapter 7: 応用編 - セキュリティ

**目標**: セキュアなコンテナ環境を構築できる

| Section | タイトル | 内容 |
|---------|----------|------|
| 7.1 | コンテナセキュリティの基礎 | 脅威モデル、攻撃ベクター |
| 7.2 | 非rootユーザーでの実行 | USER命令、権限設定 |
| 7.3 | イメージの脆弱性スキャン | Trivy, Docker Scout |
| 7.4 | シークレット管理 | Docker Secrets, 環境変数の注意点 |
| 7.5 | ネットワークセキュリティ | ネットワーク分離、ファイアウォール |
| 7.6 | リソース制限 | CPU, メモリ制限、OOM対策 |
| 7.7 | セキュリティベストプラクティス | CIS Benchmark, チェックリスト |

### Chapter 8: 実践編 - 本番環境

**目標**: 本番環境でのDocker運用ができる

| Section | タイトル | 内容 |
|---------|----------|------|
| 8.1 | 本番環境向けDockerfile | 最適化、セキュリティ考慮 |
| 8.2 | ヘルスチェックの実装 | HEALTHCHECK命令、監視連携 |
| 8.3 | ログ管理戦略 | ログドライバー、集約 |
| 8.4 | コンテナの監視 | メトリクス収集、アラート |
| 8.5 | バックアップとリストア | ボリュームバックアップ |
| 8.6 | Docker Swarmの基礎 | クラスタリング入門 |

### Chapter 9: 実践編 - CI/CD

**目標**: CI/CDパイプラインでDockerを活用できる

| Section | タイトル | 内容 |
|---------|----------|------|
| 9.1 | CI/CDパイプラインでのDocker | 自動化のメリット |
| 9.2 | GitHub ActionsでのDocker利用 | ワークフロー設定 |
| 9.3 | プライベートレジストリ | ECR, GCR, ACR, Harbor |
| 9.4 | イメージの自動ビルド | タグ戦略、バージョニング |
| 9.5 | 自動デプロイメント | CD連携、ロールバック |

### Chapter 10: 実践編 - Kubernetes連携

**目標**: DockerからKubernetesへの移行を理解する

| Section | タイトル | 内容 |
|---------|----------|------|
| 10.1 | Kubernetesの概要 | K8sの必要性、アーキテクチャ |
| 10.2 | DockerからKubernetesへ | 移行の考え方 |
| 10.3 | Podとコンテナ | Pod概念、マルチコンテナPod |
| 10.4 | Deploymentの基礎 | ReplicaSet, ローリングアップデート |
| 10.5 | Docker Desktop + Kubernetes | ローカルK8s環境 |

### Chapter 11: リファレンス

**目標**: 必要な情報をすばやく参照できる

| Section | タイトル | 内容 |
|---------|----------|------|
| 11.1 | Dockerコマンド一覧 | 全コマンドリファレンス |
| 11.2 | Docker Composeコマンド一覧 | Composeコマンドリファレンス |
| 11.3 | Dockerfile命令一覧 | 全命令リファレンス |
| 11.4 | トラブルシューティングガイド | よくある問題と解決策 |
| 11.5 | ベストプラクティス集 | 開発・本番のベストプラクティス |
| 11.6 | 用語集 | Docker関連用語の解説 |

## 4. コンテンツ形式

### 4.1 セクション構成

各セクションは以下の構成で作成する：

```markdown
# セクションタイトル

## 概要
（このセクションで学ぶこと）

## 本文
（解説コンテンツ）

## コード例
（実行可能なコード例）

## まとめ
（ポイントの整理）

## 確認問題（オプション）
（クイズ形式の確認問題）
```

### 4.2 コードブロック形式

```markdown
```dockerfile
# Dockerfile の例
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```
```

## 5. 受け入れ条件

- [ ] 全11チャプター、60以上のセクションが作成されている
- [ ] 各セクションに概要・本文・コード例・まとめが含まれる
- [ ] コード例は実行可能で、エラーがない
- [ ] 日本語として自然で読みやすい文章
- [ ] 技術的に正確な情報
