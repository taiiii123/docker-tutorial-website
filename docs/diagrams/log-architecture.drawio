<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-02-09T00:00:00.000Z" agent="Claude" version="24.0.0" type="device">
  <diagram id="log-arch" name="Dockerログアーキテクチャ">
    <mxGraphModel dx="900" dy="620" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="900" pageHeight="620" math="0" shadow="0" background="#FFFFFF">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- タイトル -->
        <mxCell id="title" value="Docker ログアーキテクチャ" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="300" y="15" width="300" height="30" as="geometry" />
        </mxCell>

        <!-- コンテナ内ボックス -->
        <mxCell id="container-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="60" width="500" height="120" as="geometry" />
        </mxCell>
        <mxCell id="container-label" value="コンテナ内" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontStyle=1;fontColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="210" y="65" width="90" height="25" as="geometry" />
        </mxCell>

        <!-- アプリケーション -->
        <mxCell id="app" value="アプリケーション" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="100" width="160" height="50" as="geometry" />
        </mxCell>

        <!-- 矢印: アプリ → stdout/stderr -->
        <mxCell id="arrow-app-stdout" value="" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#6c8ebf;endFill=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="410" y="125" as="sourcePoint" />
            <mxPoint x="480" y="125" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- stdout/stderr -->
        <mxCell id="stdout" value="stdout / stderr" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#333333;strokeWidth=2;fontSize=13;fontStyle=1;fontFamily=monospace;" vertex="1" parent="1">
          <mxGeometry x="480" y="100" width="160" height="50" as="geometry" />
        </mxCell>

        <!-- 矢印: コンテナ → Docker デーモン -->
        <mxCell id="arrow-to-daemon" value="" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;endFill=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="180" as="sourcePoint" />
            <mxPoint x="450" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-capture" value="ログキャプチャ" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=11;fontColor=#333333;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="460" y="195" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- Docker デーモンボックス -->
        <mxCell id="daemon-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="230" width="620" height="120" as="geometry" />
        </mxCell>
        <mxCell id="daemon-label" value="Docker デーモン" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontStyle=1;fontColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="150" y="235" width="120" height="25" as="geometry" />
        </mxCell>

        <!-- ログドライバー -->
        <mxCell id="log-driver" value="ログドライバー" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="330" y="265" width="240" height="40" as="geometry" />
        </mxCell>

        <!-- ドライバー種類 -->
        <mxCell id="drivers" value="json-file | syslog | fluentd | awslogs | gelf | splunk | ..." style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=11;fontColor=#666666;fontFamily=monospace;" vertex="1" parent="1">
          <mxGeometry x="215" y="315" width="470" height="20" as="geometry" />
        </mxCell>

        <!-- 矢印: Docker デーモン → ログ保存先 -->
        <mxCell id="arrow-to-dest" value="" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;endFill=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="350" as="sourcePoint" />
            <mxPoint x="450" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-output" value="ログ転送" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=11;fontColor=#333333;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="460" y="365" width="70" height="20" as="geometry" />
        </mxCell>

        <!-- ログ保存先ボックス -->
        <mxCell id="dest-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d6b656;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="400" width="700" height="110" as="geometry" />
        </mxCell>
        <mxCell id="dest-label" value="ログ保存先 / 集約システム" style="text;html=1;align=left;verticalAlign=top;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=13;fontStyle=1;fontColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="110" y="405" width="200" height="25" as="geometry" />
        </mxCell>

        <!-- 保存先の各項目 -->
        <mxCell id="dest-file" value="ローカルファイル&#xa;（json-file）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d6b656;strokeWidth=1;fontSize=11;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="120" y="440" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dest-syslog" value="Syslog&#xa;サーバー" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d6b656;strokeWidth=1;fontSize=11;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="260" y="440" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dest-elastic" value="Elasticsearch&#xa;（ELKスタック）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d6b656;strokeWidth=1;fontSize=11;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="400" y="440" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dest-cloud" value="CloudWatch&#xa;（AWS）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d6b656;strokeWidth=1;fontSize=11;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="540" y="440" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dest-other" value="Fluentd&#xa;Splunk 等" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d6b656;strokeWidth=1;fontSize=11;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="680" y="440" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- docker logs コマンド注釈 -->
        <mxCell id="docker-logs-note" value="docker logs コマンド&#xa;（json-file/journald のみ対応）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=1;fontSize=10;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="30" y="280" width="180" height="45" as="geometry" />
        </mxCell>
        <mxCell id="arrow-docker-logs" value="" style="endArrow=block;html=1;strokeWidth=1;strokeColor=#666666;endFill=1;dashed=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="325" as="sourcePoint" />
            <mxPoint x="120" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
